<div class="mt-9">
  <div class="container mx-auto">
    <h1 class="text-center text-5xl font-bold mb-4">{{ page_title }}</h1>
    <p class="text-center" *ngIf="status != 'success'">
      {{ paragraph }}
    </p>
    <div
      class="bg-lime-500 w-3/5 mx-auto mt-2 mb-4 rounded p-1"
      *ngIf="status == 'success'"
    >
      <p class="text-center font-bold mb-1 text-white">Update successful</p>
    </div>
    <div
      class="bg-red-400 w-3/5 mx-auto mt-2 mb-4 rounded p-1"
      *ngIf="status == 'error'"
    >
      <p class="text-center font-bold text-white">Update has failed</p>
    </div>
    <div class="flex flex-col md:flex-row items-center">
      <div class="md:w-3/5 w-4/5 mt-5 lg:mt-0">
        <form
          class="mt-4"
          #userEditForm="ngForm"
          (ngSubmit)="onSubmit(userEditForm)"
        >
          <div class="mb-3">
            <label for="name" class="block font-bold">Name</label>
            <input
              type="text"
              id="name"
              name="name"
              placeholder="Enter your name"
              class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-gray-300 focus:shadow-none"
              #name="ngModel"
              [(ngModel)]="user.name"
              required
              pattern="[a-zA-Z]+"
            />
            <small
              *ngIf="name.invalid && name.touched"
              class="text-red-800 font-bold"
              >Name isn't valid</small
            >
          </div>
          <div class="mb-3">
            <label for="surname" class="block font-bold">Surname</label>
            <input
              type="text"
              id="surname"
              name="surname"
              placeholder="Enter your surname"
              class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-gray-300 focus:shadow-none"
              #surname="ngModel"
              [(ngModel)]="user.surname"
              required
              pattern="[a-zA-Z]+"
            />
            <small
              *ngIf="!surname.valid && surname.touched"
              class="text-red-800 font-bold"
              >Surname isn't valid</small
            >
          </div>
          <div class="mb-3">
            <label for="email" class="block font-bold">Email</label>
            <input
              type="email"
              id="email"
              name="email"
              placeholder="Enter your email"
              class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-gray-300 focus:shadow-none"
              #email="ngModel"
              [(ngModel)]="user.email"
              pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
            />
            <small
              *ngIf="!email.valid && email.touched"
              class="text-red-800 font-bold"
              >Email isn't valid</small
            >
          </div>
          <div class="mb-3">
            <label for="description" class="block font-bold">Description</label>
            <textarea
              type="text"
              id="description"
              name="description"
              rows="3"
              placeholder="Enter your description"
              class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-gray-300 focus:shadow-none"
              #description="ngModel"
              [(ngModel)]="user.description"
            ></textarea>
          </div>
          <div>
            <label for="image" class="block font-bold"
              >Avatar Image (Max size: 3MB)</label
            >
            <div *ngIf="identity && identity.image">
              <img
                class="w-80"
                src="{{ url + '/user/avatar/' + identity.image }}"
              />
            </div>
            <input
              type="file"
              accept=".jpg,.jpeg,.png,.gif"
              id="image"
              name="image"
              class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-gray-300 focus:shadow-none"
              (change)="uploadFile($event)"
            />
          </div>
          <input
            type="submit"
            value="Update"
            class="mt-5 rounded w-full bg-lime-700 hover:bg-lime-600 px-4 py-3 cursor-pointer font-bold text-white disabled:opacity-25 disabled:cursor-default disabled:hover:bg-lime-700"
            [disabled]="userEditForm.invalid"
          />
        </form>
      </div>
      <div class="md:w-2/5">
        <img class="w-full" src="assets/images/settings.png" />
      </div>
    </div>
  </div>
</div>
